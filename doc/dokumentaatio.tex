\documentclass[12pt, oneside, a4paper, titlepage]{article}   	
\usepackage[T1]{fontenc}
\usepackage[finnish]{babel}

\addto\captionsfinnish{
  \renewcommand{\contentsname}
    {Sisällys}
}

\usepackage[parfill]{parskip}    
\usepackage{graphicx}
\usepackage{hyperref}
\graphicspath{ {kaaviot/} }											

\title{Huutokauppa-sovelluksen dokumentaatio}
\author{Juho Pääkkönen}
\date{}

\begin{document}
\pagenumbering{gobble}

\maketitle
\tableofcontents

\newpage
\pagenumbering{arabic}

\section{Johdanto}

Toteutetaan tietokantaa käyttävä sovellus, joka tarjoaa verkossa toimivalle huutokaupalle toiminnallisuuden. Huutokaupan on tarkoitus pystyä asettamaan tuotteitaan myytäväksi huutokauppaan. Sovellusta käyttävät huutokaupan asiakkaat voivat tehdä järjestelmässä myytävänä olevista tuotteista tarjouksia, joiden perustella tuotteet myydään eniten tarjoavalle asiakkaalle.

Sovellus toteutetaan Apache-palvelimelle käyttäen PHP-ohjelmointikieltä ja PostgreSQL-tietokantaa. Näin ollen sovelluksen alustajärjestelmältä edellytetään PHP-tukea. Lisäksi sovellus tulee sisältämään Javascript-pohjaisia toimintoja, joten käyttäjän selaimelta edellytetään Javascript-tukea, jotta sovelluksen kaikki toiminnot olisivat käytettävissä. Sovellus on sidonnainen käytetyllä palvelimella olevaan tietokantaan.

\section{Yleiskuva järjestelmästä}

\subsection{Käyttötapauskaavio}
\includegraphics[width=\textwidth]{kayttotapauskaavio.jpg}

\subsection{Käyttäjäryhmät}

\textbf{Asiakas} on rekisteröitynyt käyttäjä, joka voi tehdä tarjouksia huutokaupassa myynnissä olevista tuotteista.

\textbf{Huutokauppa} on rekisteröitynyt käyttäjä, joka asettaa tuotteita myytäväksi sovellukseen sekä luokittelee tuotteita ja lisää niihin liittyviä tietoja.

\textbf{Meklari} on rekisteröitynyt käyttäjä joka seuraa tuotteita ja niistä tehtyjä tarjouksia sekä vastaa kaupan etenemisestä tuotteista tehtyjen tarjousten mukaisesti.

\subsection{Käyttötapauskuvaukset}

\subsubsection{Asiakkaan käyttötapaukset}

\textit{\textbf{Tarjouksen tekeminen}}

Kirjautuneet asiakkaat voivat tehdä huutokaupassa myytävänä olevista tuotteista ostotarjouksia tiettyyn hintaan.

\textit{\textbf{Tuotetietojen katselu}}

Kirjautuneet asiakkaat voivat katsella huutokaupan tuotteiden tietoja. Tietoihin voi kuulua esimerkiksi tuotteiden sijainti, kunto ja mahdollinen tuotekuva.

\textit{\textbf{Henkilötietojen antaminen}}

Asiakkaat antavat henkilötietonsa tarjouksen tekemisen yhteydessä.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen

\subsubsection{Huutokaupan käyttötapaukset}

\textit{\textbf{Tuotetietojen syöttö}}

Huutokauppakäyttäjä voi syöttää tuotteille tietoja, jotka kuvaavat tuotetta asiakkaille.

\textit{\textbf{Tuotetietojen muokkaus}}

Huutokauppakäyttäjä voi muokata tuotteille syötettyjä tietoja. Esimerkiksi voidaan vaihtaa tuoteeseen liittyvä kuva.

\textit{\textbf{Tuoteluokkien lisäys}}

Huutokauppakäyttäjä voi lisätä järjestelmään luokkia, joita käytetään tuotteiden luokitteluun. Esimerkiksi voidaan lisätä luokka "Matkapuhelimet".

\textit{\textbf{Tuoteluokkien muokkaus}}

Huutokauppakäyttäjä voi muokata tuoteluokkia. Esimerkki: vaihdetaan luokan "Matkapuhelimet" nimeksi "Älypuhelimet".

\textit{\textbf{Tuoteluokkien poisto}}

Huutokauppakäyttäjä voi poistaa tuoteluokkia järjestelmästä.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen.

\subsubsection{Meklarin käyttötapaukset}

\textit{\textbf{Seurantalistan luominen}}

Meklarit voivat luoda seurantalistan, josta käy ilmi tuotteista tehdyt tarjoukset, voittamassa olevat tarjoukset sekä huomattavat muutokset tarjouksissa.

\textit{\textbf{Laskun lähetys asiakkaalle}}

Meklarit voivat lähettää myydystä tuotteesta laskun asiakkaalle asiakkaan syöttämien henkilötietojen perusteella.

\textit{\textbf{Kaupan sulkeminen}}

Meklarit voivat asettaa tuotetta koskevan kaupan suljetuksi, minkä jälkeen tuotteesta ei voi enää tehdä tarjouksia.

\textit{\textbf{Tarjouksen aitouden varmistaminen}}

Meklarit voivat varmistaa tuotteesta tehdyn tarjouksen aitouden tarjouksen tehneen asiakkaan henkilötietojen perusteella.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen

\section{Järjestelmän tietosisältö}

\subsection{Käsitekaavio}
\includegraphics[width=\textwidth]{kasitekaavio.jpg}

\subsection{Käsitekaavion selitykset}

\subsubsection{Tuote}

\begin{tabular}{| c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Tuotteen nimi \\ \hline
 Ikä & Kokonaisluku & Tuotteen ikä vuosina \\ \hline
 Sijainti & Merkkijono, max. 120 merkkiä & Tuotteen sijainti \\ \hline
 Lähtöhinta & Kokonaisluku & Tuotteen lähtöhinta \\ \hline
 Sulkeutuminen & Päivämäärä & Tuotteen sulkeutumispäivä \\ \hline
 Tila & Boolean & Tuote voi olla joko kaupan tai ei kaupan \\ \hline
 Kuvaus & Merkkijono, max. 250 merkkiä & Tuotteen kuvaus \\ \hline
 Tuotekuva & Merkkijono, max. 120 merkkiä & Polku tuotekuvaan \\
 \hline
\end{tabular}

Tuoteeseen liittyy aina yksi käyttäjä, ja tuotteeseen voi liittyä useita tarjouksia, mutta ei välttämättä liity yhtäkään. Tuotteella voi olla useita luokituksia mutta ei välttämättä ole yhtäkään.


\subsubsection{Tuoteluokka}

\begin{tabular}{| c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Tuoteluokan nimi \\ \hline
 Kuvaus & Merkkijono, max. 350 merkkiä & Tuoteluokan yleinen kuvaus \\
 \hline
\end{tabular}

Tuoteluokkaan ei välttämättä liity yhtäkään tuotetta, mutta voi liittyä useita järjestelmässä olevia tuotteita.

\subsubsection{Tarjous}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Aika & Timestamp & Tarjouksen tekoaika \\ \hline
 Määrä & Desimaaliluku & Tarjouksen määrä \\
 \hline
\end{tabular}

Tarjous liittyy aina yhteen tuotteeseen sekä yhteen käyttäjään.

\subsubsection{Käyttäjä}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Käyttäjätunnus & Merkkijono, max. 120 merkkiä & Käyttäjän käyttäjätunnus \\ \hline
 Salasana & Merkkijono, max. 20 merkkiä & Käyttäjän salasana \\ \hline
 Yhteystiedot & Merkkijono, max. 200 merkkiä & Käyttäjän yhteystiedot \\ \hline
 Tyyppi & Kokonaisluku & Käyttäjän tyyppi \\
 \hline
\end{tabular}

Käyttäjään voi liittyä useita, mutta ei välttämättä liity yhtäkään tarjousta. Käyttäjä voi liittyä useaan mutta ei välttämättä liity yhteenkään tuotteeseen.

\section{Relaatiotietokantakaavio}

\includegraphics[width=\textwidth]{tietokantakaavio.jpg}

\section{Käyttöohje}

Sovelluksen osoite: \url{http://juhopaak.users.cs.helsinki.fi/tsoha_huutokauppa/}

\textbf{Tunnus:} testikäyttäjä \\
\textbf{Salasana:} testi

Sovelluksen etusivulla listataan huutokaupassa myytävänä olevat tuotteet. Kirjautumaton käyttäjä voi tehdä tarjouksia myytävänä olevista tuotteista sekä katsella tuotteiden tietoja. Kirjautunut käyttäjä voi lisäksi lisätä huutokauppaan uuden tuotteen, muokata myytävänä olevan tuotteen tietoja sekä poistaa myytävänä olevan tuotteen.

\section{Järjestelmän yleisrakenne}

Sovellusta rakentaessa on noudatettu MVC-mallia. Kontrollerit, näkymät ja mallit sijaitsevat hakemistoissa app/controllers, app/views ja app/models. Apukirjastot on sijoitettu hakemistoon lib, ja sovelluksen käyttämät reitit ovat tiedostossa config/routes.php.

\section{Käyttöliittymä ja järjestelmän komponentit}

Kaaviossa siniset laatikot kuvaavat järjestelmän julkisia sivuja ja tummankeltaiset kirjautumista vaativia sivuja.

\includegraphics[width=\textwidth]{komponentit.jpg}

\section{Tuntikirjanpito}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Päivä} & \textbf{tunnit} & \textbf{Kuvaus} \\ \hline
 Pe 18.3.2016 & 3h & Versionhallinnan ja työympäristön pystyttäminen \\ \hline
 Su 20.3.2016 & 2h & Dokumentaation johdanto ja käyttötapaukset \\ \hline
 Su 3.4.2016 & 1h & Materiaaliin tutustuminen \\ \hline
 Ma 4.4.2016 & 5,5h & HTML-sivujen suunnitelmat, dokumentaatio ja SQL-kyselyt  \\ \hline
 La 9.4.2016 & 2h & Materiaaliin tutustuminen \\ \hline
 Su 10.4.2016 & 3,5h & Kolmannen viikon deadlinen vaatimukset ja koodikatselmointi \\ \hline
 Ti 12.4.2016 & 0,5h & Materiaaliin tutustuminen \\ \hline
 Su 17.4.2016 & 4h & Neljännen viikon vaatimukset \\ \hline
 Ti 19.4.2016 & 2h & Materiaaliin tutustuminen ja tietokannan päivittäminen \\ \hline
 Ke 20.4.2016 & 1h & Tuoteluokan refaktorointia \\ \hline
 Ke 20.4.2016 & 1h & Sovelluksen laajentamista \\ \hline
 Ma 25.4.2016 & 1h & Tuoteluokka-tietokohteen toteutus \\ \hline
 Ma 25.4.2016 & 1h & Dokumentaation päivitys \\ \hline
 Ti 3.4.2016 & 6h & Monesta moneen -yhteyden toteuttaminen \\ \hline
 Ti 3.4.2016 & 4h & Tarjous-tietokohde ja muut lopullisen palautuksen vaatimukset \\ \hline
 \textbf{Yhteensä} & \textbf{37,5h} & \\
 \hline
\end{tabular}

\end{document}  