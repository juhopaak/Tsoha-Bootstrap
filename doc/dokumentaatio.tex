\documentclass[12pt, oneside, a4paper, titlepage]{article}   	
\usepackage[T1]{fontenc}
\usepackage[finnish]{babel}

\addto\captionsfinnish{
  \renewcommand{\contentsname}
    {Sisällys}
}

\usepackage[parfill]{parskip}    
\usepackage{graphicx}
\graphicspath{ {kaaviot/} }											

\title{Huutokauppa-sovelluksen dokumentaatio}
\author{Juho Pääkkönen}
\date{}

\begin{document}
\pagenumbering{gobble}

\maketitle
\tableofcontents

\newpage
\pagenumbering{arabic}

\section{Johdanto}

Toteutetaan tietokantaa käyttävä sovellus, joka tarjoaa verkossa toimivalle huutokaupalle toiminnallisuuden. Huutokaupan on tarkoitus pystyä asettamaan tuotteitaan myytäväksi huutokauppaan. Sovellusta käyttävät huutokaupan asiakkaat voivat tehdä järjestelmässä myytävänä olevista tuotteista tarjouksia, joiden perustella tuotteet myydään eniten tarjoavalle asiakkaalle.

Sovellus toteutetaan Apache-palvelimelle käyttäen PHP-ohjelmointikieltä ja PostgreSQL-tietokantaa. Näin ollen sovelluksen alustajärjestelmältä edellytetään PHP-tukea. Lisäksi sovellus tulee sisältämään Javascript-pohjaisia toimintoja, joten käyttäjän selaimelta edellytetään Javascript-tukea, jotta sovelluksen kaikki toiminnot olisivat käytettävissä. Sovellus on sidonnainen käytetyllä palvelimella olevaan tietokantaan.

\section{Yleiskuva järjestelmästä}

\subsection{Käyttötapauskaavio}
\includegraphics[width=\textwidth]{kayttotapauskaavio.jpg}

\subsection{Käyttäjäryhmät}

\textbf{Asiakas} on rekisteröitynyt käyttäjä, joka voi tehdä tarjouksia huutokaupassa myynnissä olevista tuotteista.

\textbf{Huutokauppa} on rekisteröitynyt käyttäjä, joka asettaa tuotteita myytäväksi sovellukseen sekä luokittelee tuotteita ja lisää niihin liittyviä tietoja.

\textbf{Meklari} on rekisteröitynyt käyttäjä joka seuraa tuotteita ja niistä tehtyjä tarjouksia sekä vastaa kaupan etenemisestä tuotteista tehtyjen tarjousten mukaisesti.

\subsection{Käyttötapauskuvaukset}

\subsubsection{Asiakkaan käyttötapaukset}

\textit{\textbf{Tarjouksen tekeminen}}

Kirjautuneet asiakkaat voivat tehdä huutokaupassa myytävänä olevista tuotteista ostotarjouksia tiettyyn hintaan.

\textit{\textbf{Tuotetietojen katselu}}

Kirjautuneet asiakkaat voivat katsella huutokaupan tuotteiden tietoja. Tietoihin voi kuulua esimerkiksi tuotteiden sijainti, kunto ja mahdollinen tuotekuva.

\textit{\textbf{Henkilötietojen antaminen}}

Asiakkaat antavat henkilötietonsa tarjouksen tekemisen yhteydessä.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen

\subsubsection{Huutokaupan käyttötapaukset}

\textit{\textbf{Tuotetietojen syöttö}}

Huutokauppakäyttäjä voi syöttää tuotteille tietoja, jotka kuvaavat tuotetta asiakkaille.

\textit{\textbf{Tuotetietojen muokkaus}}

Huutokauppakäyttäjä voi muokata tuotteille syötettyjä tietoja. Esimerkiksi voidaan vaihtaa tuoteeseen liittyvä kuva.

\textit{\textbf{Tuoteluokkien lisäys}}

Huutokauppakäyttäjä voi lisätä järjestelmään luokkia, joita käytetään tuotteiden luokitteluun. Esimerkiksi voidaan lisätä luokka "Matkapuhelimet".

\textit{\textbf{Tuoteluokkien muokkaus}}

Huutokauppakäyttäjä voi muokata tuoteluokkia. Esimerkki: vaihdetaan luokan "Matkapuhelimet" nimeksi "Älypuhelimet".

\textit{\textbf{Tuoteluokkien poisto}}

Huutokauppakäyttäjä voi poistaa tuoteluokkia järjestelmästä.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen.

\subsubsection{Meklarin käyttötapaukset}

\textit{\textbf{Seurantalistan luominen}}

Meklarit voivat luoda seurantalistan, josta käy ilmi tuotteista tehdyt tarjoukset, voittamassa olevat tarjoukset sekä huomattavat muutokset tarjouksissa.

\textit{\textbf{Laskun lähetys asiakkaalle}}

Meklarit voivat lähettää myydystä tuotteesta laskun asiakkaalle asiakkaan syöttämien henkilötietojen perusteella.

\textit{\textbf{Kaupan sulkeminen}}

Meklarit voivat asettaa tuotetta koskevan kaupan suljetuksi, minkä jälkeen tuotteesta ei voi enää tehdä tarjouksia.

\textit{\textbf{Tarjouksen aitouden varmistaminen}}

Meklarit voivat varmistaa tuotteesta tehdyn tarjouksen aitouden tarjouksen tehneen asiakkaan henkilötietojen perusteella.

\textit{\textbf{Muut käyttötapaukset}}

Kirjautuminen

\section{Järjestelmän tietosisältö}

\subsection{Käsitekaavio}
\includegraphics[width=\textwidth]{kasitekaavio.jpg}

\subsection{Käsitekaavion selitykset}

\subsubsection{Tuote}

\begin{tabular}{| c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Tuotteen nimi \\ \hline
 Ikä & Kokonaisluku & Tuotteen ikä vuosina \\ \hline
 Sijainti & Merkkijono, max. 120 merkkiä & Tuotteen sijainti \\ \hline
 Kuvaus & Merkkijono, max. 250 merkkiä & Tuotteen kuvaus \\ \hline
 Tuotekuva & Merkkijono, max. 120 merkkiä & Polku tuotekuvaan \\
 \hline
\end{tabular}

Tuote, joka on lisätty järjestelmään, mutta jota ei ole vielä asetettu myytäväksi ei vielä liity yhteenkään kauppaan. Tuote, joka on asetettu myytäväksi liittyy korkeintaan yhteen kauppaan. Tuotteella voi olla useita luokituksia mutta ei välttämättä ole yhtäkään.

\subsubsection{Tuoteluokka}

\begin{tabular}{| c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Tuoteluokan nimi \\ \hline
 Kuvaus & Merkkijono, max. 350 merkkiä & Tuoteluokan yleinen kuvaus \\
 \hline
\end{tabular}

Tuoteluokkaan ei välttämättä liity yhtäkään tuotetta, mutta voi liittyä useita järjestelmässä olevia tuotteita.

\subsubsection{Kauppa}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Lähtöhinta & Desimaaliluku & Myytävänä olevan tuotteen hinta \\ \hline
 Alkaminen & Timestamp & Kaupan alkamispäivämäärä ja aika \\ \hline
 Sulkeutuminen & Timestamp & Kaupan sulkeutumispäivämäärä ja aika \\ \hline
 Tila & Boolean & Kaupan tila (auki tai kiinni) \\
 \hline
\end{tabular}

Kauppaan liittyy aina vähintään yksi tuote, mutta yksi kauppa voi sisältää useita myynnissä olevia tuotteita. Kauppa liittyy aina yhteen esitteeseen, ja kauppaa hoitaa aina yksi meklari. Yhteen kauppaan liittyen voidaan tehdä nolla tai useita tarjouksia, ja yhtä kauppaa koskevia seurantalistoja voi olla tehtynä nolla tai useita.

\subsubsection{Esite}

\begin{tabular}{ | c | c | c | }
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Luomisaika & Timestamp & Esitteen luomisaika \\
 \hline
\end{tabular}

Esitteeseen liittyy aina vähintään yksi kauppa, ja voi liittyä useita kauppoja.

\subsubsection{Tarjous}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Aika & Timestamp & Tarjouksen tekoaika \\ \hline
 Määrä & Desimaaliluku & Tarjouksen määrä \\
 \hline
\end{tabular}

Tarjous liittyy aina yhteen kauppaan sekä yhteen asiakkaaseen. Tarjoukseen voi liittyä yksi tai useampia laskuja.

\subsubsection{Asiakas}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Asiakkaan nimi \\ \hline
 Henkilötunnus & Merkkijono, max. 20 merkkiä & Asiakkaan henkilötunnus \\ \hline
 Osoite & Merkkijono, max. 200 merkkiä & Asiakkaan osoite \\ \hline
 Puhelin & Merkkijono, max. 20 merkkiä & Asiakkaan puhelinnumero \\ \hline
 Sähköposti & Merkkijono, max. 30 merkkiä & Asiakkaan sähköpostiosoite \\
 \hline
\end{tabular}

Asiakkaaseen voi liittyä useita, mutta ei välttämättä liity yhtäkään tarjousta.

\subsubsection{Meklari}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Nimi & Merkkijono, max. 120 merkkiä & Meklarin nimi \\ \hline
 Osoite & Merkkijono, max. 200 merkkiä & Meklarin yhteysosoite \\ \hline
 Puhelin & Merkkijono, max. 20 merkkiä & Meklarin puhelinnumero \\ \hline
 Sähköposti & Merkkijono, max. 30 merkkiä & Meklarin sähköpostiosoite \\
 \hline
\end{tabular}

Meklari ei välttämättä hoida yhtäkään, mutta voi hoitaa useita kauppoja.

\subsubsection{Seurantalista}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Luomisaika & Timestamp & Seurantalistan luomisaika \\
 \hline
\end{tabular}

Seurantalista liittyy aina yhteen kauppaan.

\subsubsection{Lasku}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Attribuutti} & \textbf{Arvojoukko} & \textbf{Kuvailu} \\ \hline
 Maksutili & Merkkijono, max. 200 merkkiä & Pankki- ja tilitiedot laskun maksamiseksi \\ \hline
 Viitenumero & Numero & Laskun viitenumero \\ \hline
 Lähetysaika & Timestamp & Laskun lähetysaika \\ \hline
 Eräpäivä & Timestamp & Laskun eräpäivä \\
 \hline
\end{tabular}

Lasku liittyy aina yhteen tehtyyn tarjoukseen.

\section{Relaatiotietokantakaavio}

\includegraphics[width=\textwidth]{tietokantakaavio.jpg}

\section{Tuntikirjanpito}

\begin{tabular}{ | c | c | c |}
 \hline
 \textbf{Päivä} & \textbf{tunnit} & \textbf{Kuvaus} \\ \hline
 Pe 18.3.2016 & 3h & Versionhallinnan ja työympäristön pystyttäminen \\ \hline
 Su 20.3.2016 & 2h & Dokumentaation johdanto ja käyttötapaukset \\ \hline
 Su 3.4.2016 & 1h & Materiaaliin tutustuminen \\ \hline
 Ma 4.4.2016 & 5,5h & HTML-sivujen suunnitelmat, dokumentaatio ja SQL-kyselyt  \\ \hline
 La 9.4.2016 & 2h & Materiaaliin tutustuminen \\ \hline
 \textbf{Yhteensä} & \textbf{13,5h} & \\
 \hline
\end{tabular}

\end{document}  